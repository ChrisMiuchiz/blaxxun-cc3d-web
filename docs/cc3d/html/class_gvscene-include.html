<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>GvScene Include File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.0.0 on Thu Jan 27 18:49:48 2000 -->
<center>
<a class="qindex"href="index.html">Main Page</a> &nbsp; <a class="qindex"href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex"href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex"href="annotated.html">Compound List</a> &nbsp; <a class="qindex"href="files.html">File List</a> &nbsp; <a class="qindex"href="headers.html">Header Files</a> &nbsp; <a class="qindex"href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex"href="functions.html">Compound Members</a> &nbsp; <a class="qindex"href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>gvscene.h</h1>This is the verbatim text of the gvscene.h include file.<div class="fragment"><pre>/*=============================================================================

This code is licensed under the Web3D-blaxxun Community Source License,
provided in distribution file LICENSE.TXT and available online at
http://www.web3D.org/TaskGroups/x3d/blaxxun/Web3D-blaxxunCommunitySourceAgreement.html
and may only be used for non-commercial use as specified in that license.

THE WEB3D CONSORTIUM AND BLAXXUN DO NOT MAKE AND HEREBY DISCLAIM ANY EXPRESS
OR IMPLIED WARRANTIES RELATING TO THIS CODE, INCLUDING BUT NOT LIMITED TO,
WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE, OR ANY WARRANTIES THAT MIGHT ARISE FROM A COURSE OF DEALING, USAGE
OR TRADE PRACTICE.  THE COMMUNITY SOURCE CODE IS PROVIDED UNDER THIS
AGREEMENT "AS IS," WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
INCLUDING, WITHOUT LIMITATION, WARRANTIES THAT THE COMMUNITY SOURCE CODE ARE
FREE OF DEFECTS, MERCHANTABLE, FIT FOR A PARTICULAR PURPOSE OR
NON-INFRINGING OR IN ANY WAY CONSTITUTE THE COMPLETE PRODUCT MARKETED UNDER
THE NAMES GIVEN SAID CODE.

==============================================================================*/
#ifndef  _GvScene_
#define  _GvScene_

/******************************************************************************
@doc

@module GvScene.h - VRML Scene Meta node|

Copyright (c) 1996 - 1998 by Holger Grahn
All rights reserved

Purpose:

Classes:
&lt;c GvScene&gt;

Notes:

Changes:
$Revision: 1.19 $
$Log: gvscene.h,v $
Revision 1.19  1999/07/06 16:35:17  tom
*** empty log message ***

Revision 1.18  1999/05/10 13:54:09  tom
*** empty log message ***


Todo :

******************************************************************************/


#include &lt;gv2group.h&gt;

#include &lt;gvsfint32.h&gt;
#include &lt;gvsftime.h&gt;

#include &lt;gvsfnode.h&gt;
#include &lt;gvmfnode.h&gt;
#include &lt;gvsfstring.h&gt;

#include &lt;gvmfstring.h&gt;
#include &lt;gvsfbool.h&gt;

#include &lt;gvnamespace.h&gt;


// forwards 
class <a class="code" href="class_gvproto.html">GvProto</a>;
class <a class="code" href="class_gvexternproto.html">GvExternProto</a>;
class <a class="code" href="class_gvprotoinstance.html">GvProtoInstance</a>;
class <a class="code" href="class_gvroute.html">GvRoute</a>;
class <a class="code" href="class_gvworldinfo.html">GvWorldInfo</a>;
class <a class="code" href="class_gvtimesensor.html">GvTimeSensor</a>;
class <a class="code" href="class_gvviewpoint.html">GvViewpoint</a>;
class <a class="code" href="class_gv2createvrmlfromurl.html">Gv2CreateVrmlFromUrl</a>;
class <a class="code" href="class_gfile.html">GFile</a>;

class <a class="code" href="class_greporter.html">GReporter</a>;




/*

  GvScene
  maintains a scenegraph
  together with protos, routes ...
*/



class <a class="code" href="class_gvscene.html">GvScene</a> : public <a class="code" href="class_gv2group.html">Gv2Group</a> {

    <a class="code" href="class_gv2group.html#c0">GV_NODE_HEADER</a>(<a class="code" href="class_gvscene.html">GvScene</a>);

  public:

    // Derived Fields 
    // GvMFNode children;  // the top level node list of scene

    // Fields 

    <a class="code" href="class_gvmfnode.html">GvMFNode</a> protos;    // the protos defined in this scene

    <a class="code" href="class_gvmfnode.html">GvMFNode</a> routes;    // the routes defined

    <a class="code" href="class_gvmfnode.html">GvMFNode</a> timeSensors; // all time sensors in this context

    <a class="code" href="class_gvmfnode.html">GvMFNode</a> viewpoints; // all viewpoint nodes in this context

    <a class="code" href="class_gvmfnode.html">GvMFNode</a> createVrmlFromUrls; // all create vrmls from urls in progress

    <a class="code" href="class_gvsfnode.html">GvSFNode</a> worldInfo;     // the world info of this scene

    <a class="code" href="class_gvsfstring.html">GvSFString</a> worldUrl;         // the url of this scene

    <a class="code" href="class_gvsfstring.html">GvSFString</a> baseUrl;     // the base url of this scene
    
    <a class="code" href="class_gvsfbool.html">GvSFBool</a> vrml2;         // vrm 2.0 version ? 
        
        GvBool <a class="code" href="class_gvscene.html#a0">isVrml2</a>() const { return(vrml2.value); }

    <a class="code" href="class_gvsftime.html">GvSFTime</a> worldStartTime;
    <a class="code" href="class_gvsftime.html">GvSFTime</a> worldEndTime;


    <a class="code" href="class_gvmfnode.html">GvMFNode</a>  ownerScenes;  // Scene nodes this is a child scene off
    <a class="code" href="class_gvmfnode.html">GvMFNode</a>  childScenes;  // child Scene nodes 

    // the name space of this scene
    <a class="code" href="class_gvnamespace.html">GvNameSpace</a> nameSpace;


        // get absolute home url
        const char * <a class="code" href="class_gvscene.html#a1">GetHomeUrl</a>() const;

        // get the absolute url
        const char * <a class="code" href="class_gvscene.html#a2">GetUrl</a>() const;



        // delete all contents of scene
        void <a class="code" href="class_gvscene.html#a3">deleteAll</a>();
        
        // delete all contents except proto's of scene
        void <a class="code" href="class_gvscene.html#a4">deleteSceneGraph</a>();


    // define a new proto
    GvBool <a class="code" href="class_gvscene.html#a5">addProto</a>(<a class="code" href="class_gvproto.html">GvProto</a> *proto);

    // define a new proto
    GvBool <a class="code" href="class_gvscene.html#a5">addProto</a>(const <a class="code" href="class_gvname.html">GvName</a> &amp;name,<a class="code" href="class_gvproto.html">GvProto</a> *proto);

    // remove proto
    GvBool <a class="code" href="class_gvscene.html#a7">removeProto</a>(<a class="code" href="class_gvproto.html">GvProto</a> *proto);

    void <a class="code" href="class_gvscene.html#a8">removeUnusedProtos</a>();


    static GvBool <a class="code" href="class_gvscene.html#d0">instanceRoute</a>(<a class="code" href="class_gvnode.html">GvNode</a> * from, int fromIndex, <a class="code" href="class_gvnode.html">GvNode</a> * to,int toIndex);

    // define route add add Route node to routes
    GvBool <a class="code" href="class_gvnode.html#d17">addRoute</a>(<a class="code" href="class_gvnode.html">GvNode</a> *from, int fromIndex, <a class="code" href="class_gvnode.html">GvNode</a> *to,int toIndex);

    // define route
    GvBool <a class="code" href="class_gvnode.html#d17">addRoute</a>(<a class="code" href="class_gvroute.html">GvRoute</a> *route,GvBool alreadyInstaced=TRUE);

    // remove route
    GvBool <a class="code" href="class_gvnode.html#d18">deleteRoute</a>(<a class="code" href="class_gvroute.html">GvRoute</a> *route);

        // find a route by VALUE ! NULL if not found 
        <a class="code" href="class_gvroute.html">GvRoute</a>* <a class="code" href="class_gvscene.html#a12">findRoute</a>(<a class="code" href="class_gvroute.html">GvRoute</a> *route);

        // remove any routes, considered to be unused 
    GvBool <a class="code" href="class_gvscene.html#a13">removeUnusedRoutes</a>();

    // define a new timesensor
    GvBool <a class="code" href="class_gvscene.html#a14">addTimeSensor</a>(<a class="code" href="class_gvtimesensor.html">GvTimeSensor</a> *node);

    // remove a timesensor
    GvBool <a class="code" href="class_gvscene.html#a15">removeTimeSensor</a>(<a class="code" href="class_gvtimesensor.html">GvTimeSensor</a> *node);

    // define a new viewpoint
    GvBool <a class="code" href="class_gvscene.html#a16">addViewpoint</a>(<a class="code" href="class_gvviewpoint.html">GvViewpoint</a> *node);

    // remove a viewpoint
    GvBool <a class="code" href="class_gvscene.html#a17">removeViewpoint</a>(<a class="code" href="class_gvviewpoint.html">GvViewpoint</a> *node);

        GvBool <a class="code" href="class_gvscene.html#a18">addCreateVrmlFromUrl</a>(<a class="code" href="class_gv2createvrmlfromurl.html">Gv2CreateVrmlFromUrl</a> *node);
        GvBool <a class="code" href="class_gvscene.html#a19">removeCreateVrmlFromUrl</a>(<a class="code" href="class_gv2createvrmlfromurl.html">Gv2CreateVrmlFromUrl</a> *node);

        // check CreateVrmlFromUrl for loaded url´s and send event
        GvBool <a class="code" href="class_gvscene.html#a20">checkCreateVrmlFromUrl</a>(<a class="code" href="class_gfile.html">GFile</a> *file);



    // set world info 
    GvBool <a class="code" href="class_gvscene.html#a21">setWorldInfo</a>(<a class="code" href="class_gvworldinfo.html">GvWorldInfo</a> *node);

    // remove world info 
    GvBool <a class="code" href="class_gvscene.html#a22">removeWorldInfo</a>(<a class="code" href="class_gvworldinfo.html">GvWorldInfo</a> *node);


    // add pointer to new child scene
    // automatically call addOwnerScene on scene
    GvBool <a class="code" href="class_gvscene.html#a23">addChildScene</a>(<a class="code" href="class_gvscene.html">GvScene</a> *scene);

    // remove pointer to child scene 
    GvBool <a class="code" href="class_gvscene.html#a24">removeChildScene</a>(<a class="code" href="class_gvscene.html">GvScene</a> *scene);

    // add pointer to another owner
    GvBool <a class="code" href="class_gvscene.html#a25">addOwnerScene</a>(<a class="code" href="class_gvscene.html">GvScene</a> *scene);

    // remove pointer to owner 
    GvBool <a class="code" href="class_gvscene.html#a26">removeOwnerScene</a>(<a class="code" href="class_gvscene.html">GvScene</a> *scene);

        // get named proto or first if name == NULL
        <a class="code" href="class_gvproto.html">GvProto</a>* <a class="code" href="class_gvscene.html#a27">getProto</a>(const char *name);

        // try to create a ProtoInstance node of scene Proto with name classname
        <a class="code" href="class_gvnode.html">GvNode</a> *<a class="code" href="class_gvnode.html#d15">createProtoInstance</a>(const <a class="code" href="class_gvname.html">GvName</a> &amp;className);

    // create a NodeInstace given classname 
        // and using proto classes defined in this namespace
    <a class="code" href="class_gvnode.html">GvNode</a>* <a class="code" href="class_gvscene.html#a29">createNodeInstance</a>(const <a class="code" href="class_gvname.html">GvName</a> &amp;className);


        // read from  (read nodes until EOF) 

    GvBool <a class="code" href="class_gvnode.html#d5">read</a>(<a class="code" href="class_gvinput.html">GvInput</a> *in);


    // trigger all time sensors, return TRUE if any fired
    GvBool <a class="code" href="class_gvscene.html#a31">OnTimeChange</a>(double t); 


    /*

        Interface to bound nodes,
    */
    // viewPoint 


/*
    // define a new node by name 
    GvBool addNode(const GvName &amp;name,GvNode *node);
*/

    // overrides
        int <a class="code" href="class_gv2group.html#a12">Do</a>(<a class="code" href="class_gtraversal.html">GTraversal</a> &amp;state);      
        int <a class="code" href="class_gv2group.html#a12">Do</a>(<a class="code" href="class_gpathtraversal.html">GPathTraversal</a> &amp;state);
        int <a class="code" href="class_gv2group.html#a12">Do</a>(<a class="code" href="class_grayselecttraversal.html">GRaySelectTraversal</a> &amp;state);


    int <a class="code" href="class_gv2group.html#a12">Do</a>(<a class="code" href="class_gglrendertraversal.html">GglRenderTraversal</a> &amp;state);
    int <a class="code" href="class_gv2group.html#a12">Do</a>(<a class="code" href="class_giotraversal.html">GioTraversal</a> &amp;state);

/*
   
    // static current scene managment 
    static GvScene *current;
    static GvScene* getCurrent() { return(current); }
    static void setCurrent(GvScene *newCurrent) { current = newCurrent; }
    static void push(GvScene *newCurrent);
    static GvScene* pop();
*/


    // a NODE has been edited by UI.
    //void OnNodeEdited(GvNode *node);
    // a node has changed, set redraw bit
    //void OnNodeChanged(GvNode *node);
    // GvBool OnNodeSetName(GvNode *node,const GvName &amp;newName);
    // GvBool redraw;
    //void Redraw();
public:

        // supporting methods for EAI 

        // parse the string and build new scene
        <a class="code" href="class_gvscene.html">GvScene</a>* <a class="code" href="class_gvscene.html#a37">createVrmlFromString</a>(char *vrmlSyntax,<a class="code" href="class_greporter.html">GReporter</a> *reporter);

        // get a node by name 
        <a class="code" href="class_gvnode.html">GvNode</a>* <a class="code" href="class_gvscene.html#a38">getNode</a>(const <a class="code" href="class_gvname.html">GvName</a> &amp;name);

        // set new name for node 
        GvBool <a class="code" href="class_gvscene.html#a39">setNodeName</a>(<a class="code" href="class_gvnode.html">GvNode</a> *node,const <a class="code" href="class_gvname.html">GvName</a> &amp;newName);

        // add node to scene 
        GvBool <a class="code" href="class_gvscene.html#a40">addNode</a>(<a class="code" href="class_gvnode.html">GvNode</a> *node);

        // remove node from scene 
        GvBool <a class="code" href="class_gvscene.html#a41">removeNode</a>(<a class="code" href="class_gvnode.html">GvNode</a> *node);


};

#endif




</div></pre><hr><address><small>Generated at Thu Jan 27 18:49:49 2000 for blaxxunContact3D by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=118 height=53></a> 1.0.0 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-1999</small></address>
</body>
</html>
