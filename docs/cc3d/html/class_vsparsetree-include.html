<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<title>VsParseTree Include File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.0.0 on Thu Jan 27 18:53:33 2000 -->
<center>
<a class="qindex"href="index.html">Main Page</a> &nbsp; <a class="qindex"href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex"href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex"href="annotated.html">Compound List</a> &nbsp; <a class="qindex"href="files.html">File List</a> &nbsp; <a class="qindex"href="headers.html">Header Files</a> &nbsp; <a class="qindex"href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex"href="functions.html">Compound Members</a> &nbsp; <a class="qindex"href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>vsparse.h</h1>This is the verbatim text of the vsparse.h include file.<div class="fragment"><pre>/*
 * VsParse.h
 *
 *      Declaration of classes:
 *        VsParseTree
 *
 * Parser and interpreter for a language that looks a lot like
 *   JavaScript(tm)
 * 
 * Copyright (C) 1996, Silicon Graphics,  Inc.
 *
 *   (JavaScript is a registered trademark of NetScape...)
 */

#ifndef _VS_PARSE_
#define _VS_PARSE_

#ifdef __sgi
#include &lt;Inventor/SbPList.h&gt;
#else
#include "vbplist.h"
#endif

class <a class="code" href="class_vsfunctiondef.html">VsFunctionDef</a>;
class <a class="code" href="class_vsvar.html">VsVar</a>;
class <a class="code" href="class_vsfunctioncallbyname.html">VsFunctionCallByName</a>;

class <a class="code" href="class_gvscript.html">GvScript</a>;
class <a class="code" href="class_greporter.html">GReporter</a>;



#ifdef __sgi
typedef void VsErrorCB(void *userData, int lineNumber, const char *errorMsg);
#endif

class <a class="code" href="class_vsparsetree.html">VsParseTree</a> {
  public:

        // Add a global variable.  Called by Script node to register
    // eventOuts/fields as global variables.
    void                        <a class="code" href="class_vsparsetree.html#a0">addGlobalVar</a>(const char *name, <a class="code" href="class_vsvar.html">VsVar</a> *var);
    <a class="code" href="class_vsvar.html">VsVar</a> *                     <a class="code" href="class_vsparsetree.html#a1">getGlobalVar</a>(const char *name);

    // Parse the given input buffer.  Returns 0 if everything was read
    // OK, 1 if there was an error.
    int                         <a class="code" href="class_vsparsetree.html#a2">parse</a>(const char *buffer,  const char* scriptName);

    // Called during parse() to add a top-level function to our list:
    static <a class="code" href="class_vsfunctiondef.html">VsFunctionDef</a> *      <a class="code" href="class_vsparsetree.html#d0">beginFunction</a>(const char *name);

    // Returns a reference to a top-level function definition
    <a class="code" href="class_vsfunctiondef.html">VsFunctionDef</a> *             <a class="code" href="class_vsparsetree.html#a3">findFunction</a>(const char *name);

        // add a function call to be unresolved,
        // try to resolve after parsing
        void <a class="code" href="class_vsparsetree.html#a4">addUnresolvedFunctionCall</a>(<a class="code" href="class_vsfunctioncallbyname.html">VsFunctionCallByName</a> *fcall);

        // resolve open function calls
        gbool <a class="code" href="class_vsparsetree.html#a5">resolveFunctionCalls</a>();



    // Returns 'current' parse tree.  Used only during parsing.
    static <a class="code" href="class_vsparsetree.html">VsParseTree</a> *        <a class="code" href="class_vsparsetree.html#d1">getCurrent</a>() { return current; }
    
#ifdef __sgi
    // Set a callback to be called when syntax errors are encoutered during parsing
    void                        setErrorCallback(VsErrorCB *cb, void *ud)
                                        { errorCB = cb; cbUserData = ud; }
#endif

    int  <a class="code" href="class_vsparsetree.html#a6">getNumErrors</a>()    { return numParseErrors; }

    <a class="code" href="class_vsparsetree.html#a7">VsParseTree</a>(<a class="code" href="class_gvscript.html">GvScript</a> *script);
    <a class="code" href="class_vsparsetree.html#a8">~VsParseTree</a>();

    // Used by yylex/yyparse:
    static void                 <a class="code" href="class_vsparsetree.html#d2">unput</a>(int c);
    static int                  <a class="code" href="class_vsparsetree.html#d3">input</a>();
    static void                 <a class="code" href="class_vsparsetree.html#d4">yyerror</a>(const char *errmsg);

//  private:
  public: 
    static <a class="code" href="class_vsparsetree.html">VsParseTree</a> *current;

    const char *curParseString;

        int curParseStringLen;

    int parsePosition;

    int lineNumber;

    <a class="code" href="class_vbplist.html">VbPList</a>     globalVars;

    // Parse tree consists of a series of functions definitions, each
    // of which in turn contains a series of statements.
    <a class="code" href="class_vbplist.html">VbPList</a>     functions;

        // function calls not yet resolved
    <a class="code" href="class_vbplist.html">VbPList</a>     unresolvedFunctionCalls;
    
    int numParseErrors;
    
    const char* scriptName;

        <a class="code" href="class_gvscript.html">GvScript</a> *scriptNode; // back pointer to script 
        <a class="code" href="class_gvscript.html">GvScript</a> *<a class="code" href="class_vsparsetree.html#a9">getScriptNode</a>() { return scriptNode; }

        <a class="code" href="class_greporter.html">GReporter</a> *reporter;
    
#ifdef __sgi
    VsErrorCB * errorCB;
    void *      cbUserData;
#endif
};

#endif /* _VS_PARSE_ */

</div></pre><hr><address><small>Generated at Thu Jan 27 18:53:33 2000 for blaxxunContact3D by
<a href="http://www.stack.nl/~dimitri/doxygen/index.html">
<img src="doxygen.gif" alt="doxygen" align=center border=0 
width=118 height=53></a> 1.0.0 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy; 1997-1999</small></address>
</body>
</html>
